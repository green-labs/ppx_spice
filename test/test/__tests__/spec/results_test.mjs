// Generated by ReScript, PLEASE EDIT WITH CARE

import * as Zora from "zora";
import * as Results from "../../../src/Results.mjs";

function testEqual(t, name, lhs, rhs) {
  t.test(name, async t => {
    t.equal(lhs, rhs, name);
  });
}

Zora.test("result<int, string> - Ok case", t => {
  let data = {
    TAG: "Ok",
    _0: 42
  };
  let json = [
    "Ok",
    42.0
  ];
  let encoded = Results.intResult_encode(data);
  testEqual(t, "encode Ok result", encoded, json);
  let decoded = Results.intResult_decode(json);
  testEqual(t, "decode Ok result", decoded, {
    TAG: "Ok",
    _0: data
  });
});

Zora.test("result<int, string> - Error case", t => {
  let data = {
    TAG: "Error",
    _0: "something went wrong"
  };
  let json = [
    "Error",
    "something went wrong"
  ];
  let encoded = Results.intResult_encode(data);
  testEqual(t, "encode Error result", encoded, json);
  let decoded = Results.intResult_decode(json);
  testEqual(t, "decode Error result", decoded, {
    TAG: "Ok",
    _0: data
  });
});

Zora.test("result<inner, string> - Ok case with record", t => {
  let data = {
    TAG: "Ok",
    _0: {
      id: 1,
      name: "test"
    }
  };
  let json = [
    "Ok",
    {
      id: 1.0,
      name: "test"
    }
  ];
  let encoded = Results.innerResult_encode(data);
  testEqual(t, "encode Ok result with record", encoded, json);
  let decoded = Results.innerResult_decode(json);
  testEqual(t, "decode Ok result with record", decoded, {
    TAG: "Ok",
    _0: data
  });
});

Zora.test("nested result<result<int, string>, string>", t => {
  let data = {
    TAG: "Ok",
    _0: {
      TAG: "Ok",
      _0: 42
    }
  };
  let json = [
    "Ok",
    [
      "Ok",
      42.0
    ]
  ];
  let encoded = Results.nestedResult_encode(data);
  testEqual(t, "encode nested Ok result", encoded, json);
  let decoded = Results.nestedResult_decode(json);
  testEqual(t, "decode nested Ok result", decoded, {
    TAG: "Ok",
    _0: data
  });
});

Zora.test("nested result - inner Error", t => {
  let data = {
    TAG: "Ok",
    _0: {
      TAG: "Error",
      _0: "inner error"
    }
  };
  let json = [
    "Ok",
    [
      "Error",
      "inner error"
    ]
  ];
  let encoded = Results.nestedResult_encode(data);
  testEqual(t, "encode nested inner Error result", encoded, json);
  let decoded = Results.nestedResult_decode(json);
  testEqual(t, "decode nested inner Error result", decoded, {
    TAG: "Ok",
    _0: data
  });
});

Zora.test("Result.t<int, string> - Ok case", t => {
  let data = {
    TAG: "Ok",
    _0: 100
  };
  let json = [
    "Ok",
    100.0
  ];
  let encoded = Results.resultT_encode(data);
  testEqual(t, "encode Result.t Ok", encoded, json);
  let decoded = Results.resultT_decode(json);
  testEqual(t, "decode Result.t Ok", decoded, {
    TAG: "Ok",
    _0: data
  });
});

Zora.test("Belt.Result.t<int, string> - Ok case", t => {
  let data = {
    TAG: "Ok",
    _0: 200
  };
  let json = [
    "Ok",
    200.0
  ];
  let encoded = Results.beltResultT_encode(data);
  testEqual(t, "encode Belt.Result.t Ok", encoded, json);
  let decoded = Results.beltResultT_decode(json);
  testEqual(t, "decode Belt.Result.t Ok", decoded, {
    TAG: "Ok",
    _0: data
  });
});

export {
  testEqual,
}
/*  Not a pure module */
