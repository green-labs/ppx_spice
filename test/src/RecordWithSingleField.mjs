// Generated by ReScript, PLEASE EDIT WITH CARE

import * as Spice from "./Spice.mjs";
import * as Js_dict from "rescript/lib/es6/Js_dict.js";
import * as Belt_Option from "rescript/lib/es6/Belt_Option.js";

function t_encode(v) {
  return Js_dict.fromArray(Spice.filterOptional([[
      "a",
      Spice.stringToJson(v.a)
    ]]));
}

function t_decode(v) {
  if (!Array.isArray(v) && (v === null || typeof v !== "object") && typeof v !== "number" && typeof v !== "string" && typeof v !== "boolean") {
    return Spice.error(undefined, "Not an object", v);
  }
  if (!(typeof v === "object" && !Array.isArray(v))) {
    return Spice.error(undefined, "Not an object", v);
  }
  let a_result = Belt_Option.getWithDefault(Belt_Option.map(Js_dict.get(v, "a"), Spice.stringFromJson), Spice.error(undefined, "a" + " missing", v));
  if (a_result.TAG === "Ok") {
    return {
      TAG: "Ok",
      _0: {
        a: a_result._0
      }
    };
  }
  let e = a_result._0;
  return Spice.error("a", e.message, e.value);
}

export {
  t_encode,
  t_decode,
}
/* No side effect */
